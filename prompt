#!/usr/bin/env python3
"""
Simple wrapper for auto-prompt generation.

Usage: ./prompt --project-path /path/to/project
"""

import sys
import subprocess
from pathlib import Path

def main():
    """Main entry point with intelligent fallback."""
    
    try:
        # Check if we're in development directory
        script_dir = Path(__file__).parent
        if (script_dir / "src" / "auto_prompt_generator.py").exists():
            # We're in development mode - use module execution
            cmd = ["python3", "-m", "src.auto_prompt_generator"] + sys.argv[1:]
            subprocess.run(cmd, cwd=script_dir)
        else:
            # Try installed package
            cmd = ["generate-auto-prompt"] + sys.argv[1:]
            subprocess.run(cmd)
    except FileNotFoundError:
        print("‚ùå Auto-prompt CLI not available. Install with: pip install task-list-code-review-mcp", file=sys.stderr)
        sys.exit(1)
    except KeyboardInterrupt:
        sys.exit(1)

if __name__ == "__main__":
    main()